from socket import *

sock = socket(AF_INET, SOCK_DGRAM)
sock.bind(("127.0.0.1", 6666))
addr, message = sock.recvfrom(1234)
print(addr)
print(message)
sock.sendto(b"1:ack", ("127.0.0.1", 6667))
sock.sendto(b"5:register:B220D16A788414CAE42DEBB0FC30F3177C8F48EF", ("127.0.0.1", 6667))
sock.sendto(b"""6:key B220D16A788414CAE42DEBB0FC30F3177C8F48EF:-----BEGIN PGP PUBLIC KEY BLOCK-----

mQENBFmd9v0BCAC+E2S+xa5GiN7581IgoXWGlAU8F3lKwBD3r/JGg0mwYYTxydiY
2IfBOhIy6TSGbtaPS/BpyMrMwbU8JZ+Mp9wagDBPwROH7//uAoak7aR0QWx42H7g
dHvpWRfbjRM6JOJeKFxVblspZGRiGtqoFZwVgVKnbhOSPZ+QHv6buTd6vG8L2EsC
NLjPshge2NNCIbSTLvqVxG7KbrcyLrRfF8M1eJ/kHk6EKReE88lqK9E1PyW3XgPx
rx/uQOUZBxreyuPjNyILs8LebK2yYneIMWzL5cYIbVu+DQXpG/S7uR+xroAGVGeF
BcZWzweHjfYdFnKlRWJwFGLf+y6o8ZrE1fW7ABEBAAG0B29jdGFsdXOJAVQEEwEI
AD4WIQSyINFqeIQUyuQt67D8MPMXfI9I7wUCWZ32/QIbAwUJA8JnAAULCQgHAgYV
CAkKCwIEFgIDAQIeAQIXgAAKCRD8MPMXfI9I71akCACigCJjlep9+AmhNn0QYxGc
316XaJ3064TaFUKDxSfavUp2je7Azy1rrSrFVaWZnfisg37a0aBzRAn3A42t7Tjm
twEFd//EyViwHwbZVBjJM8twX3J2EUxssrZp83EElH5mGEsB3A79mh74xOstMyF2
hZN6Uh/D92m2KC9+1Yj+Nz/8zkoOftPy2bVjxtyEHuhOz0Kcd4bSnJ56zdS6qXNI
M44Rdh9goJf+Ad/hGxeGwHpnelgcLOQBbvplWgCsborObTF9BV3kmd7GlgKwVbqs
zgfoYd/5gQIAUOdhTGfqE06VdabHqZB594Cce9p/K6YlzNLJpR2WaCtaceGmbHis
uQENBFmd9v0BCADCJqlgORk6IFl+NUNj/bOit0p8Qzb21jwRrToLLhHlOci+2VYb
/OYrN4x9VGjIusWbp5s6vV8F9a8f1HHk5xOVF9QAe8JxDd0ty2S+siP0MWDJbwgg
z92CJGTgA5O4pCcwYzPVNb6AQeVyOjKckQsewVsgZwyzq3sp4TJYvgGJyjbG9L3e
IJTrMBaxMkpWGV0q025L5Lln6AcTwdISx1kQeb+Uh/T8W1WzS2/gL38BwmQe2Zyx
h4lWpesQl6yBtQt4qLyooEjGCtabLx6QNpihQMjmovt4wmnXipHGN+wea86mYsFh
6lEHmzCYSlijlXm4MKq2wHXHt77StajU+sLLABEBAAGJATwEGAEIACYWIQSyINFq
eIQUyuQt67D8MPMXfI9I7wUCWZ32/QIbDAUJA8JnAAAKCRD8MPMXfI9I77UwB/48
tf+WQskfxCW9S66JhWpVnBuY5y11Vv2g38AagoDIQjRdflBJUYKU7iKxzBV2PhjR
DQ3O1smqEkut9J4fZzrfGXW/PWJFeDTx+9c7p+IQnBX42e1aAEKCW/VhJAxCIa89
DO4AnCQ5oK+szkiqLwuZMOHDnK9WvikDsWPR49PzWDuaSCLQ6RVMb3wRjxDcZuN+
GQWEwgk4STQA9KZnvDVDG3t0XrwMgStAJbLgJ6pYscpURjVqFanJZF3TRMRBHHdY
dJspaanLstluSGqtpK+EhdiXXmAWCK80OiE+qTxjHE2VRY4WOocfBYvOw5+B74Lr
PtU3xXK6yaFUyoixRNdt
=7gXD
-----END PGP PUBLIC KEY BLOCK-----""", ("127.0.0.1", 6667))
addr, message = sock.recvfrom(1234)
print(addr)
print(message)
